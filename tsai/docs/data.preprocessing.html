---

title: Data preprocessing


keywords: fastai
sidebar: home_sidebar

summary: "Functions used to preprocess time series (both X and y)."
description: "Functions used to preprocess time series (both X and y)."
nb_path: "nbs/016_data.preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/016_data.preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.external</span> <span class="kn">import</span> <span class="n">get_UCR_data</span>
<span class="n">dsid</span> <span class="o">=</span> <span class="s1">&#39;NATOPS&#39;</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="n">dsid</span><span class="p">,</span> <span class="n">return_split</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">Categorize</span><span class="p">()]</span>
<span class="n">dsets</span> <span class="o">=</span> <span class="n">TSDatasets</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ToNumpyCategory" class="doc_header"><code>class</code> <code>ToNumpyCategory</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L24" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ToNumpyCategory</code>(<strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Categorize a numpy batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">y_cat</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([3, 2, 2, 3, 2, 4, 0, 5, 2, 1])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">tensor</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)),</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHot" class="doc_header"><code>class</code> <code>OneHot</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L45" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHot</code>(<strong><code>n_classes</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>One-hot encode/ decode a batch</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">y_cat</span> <span class="o">=</span> <span class="n">ToNumpyCategory</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">y_cat</span><span class="p">)</span>
<span class="n">oht</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 1., 0., 0.],
       [0., 0., 1., 0., 0., 0.],
       [0., 0., 0., 0., 1., 0.],
       [1., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 1.],
       [0., 0., 1., 0., 0., 0.],
       [0., 1., 0., 0., 0., 0.]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oht</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oht</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oht</span><span class="p">,</span> <span class="n">dim</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oht</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_classes</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,))</span>
<span class="n">oh_encoder</span> <span class="o">=</span> <span class="n">OneHot</span><span class="p">()</span>
<span class="n">oha</span> <span class="o">=</span> <span class="n">oh_encoder</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oha</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">oha</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">oh_encoder</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">oha</span><span class="p">),</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNan2Value" class="doc_header"><code>class</code> <code>TSNan2Value</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L62" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNan2Value</code>(<strong><code>value</code></strong>=<em><code>0</code></em>, <strong><code>median</code></strong>=<em><code>False</code></em>, <strong><code>by_sample_and_var</code></strong>=<em><code>True</code></em>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>) :: <code>Transform</code></p>
</blockquote>
<p>Replaces any nan values by a predefined value or median</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],</span> <span class="p">:,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">nan_vals1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">o2</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o3</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">o4</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">(</span><span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_sample_and_var</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)(</span><span class="n">o</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">nan_vals2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals3</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nan_vals4</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">nan_vals1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">nan_vals4</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">o</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">o</span><span class="p">[</span><span class="n">o</span> <span class="o">&gt;</span> <span class="mf">.9</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">o</span> <span class="o">=</span> <span class="n">TSNan2Value</span><span class="p">(</span><span class="n">median</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])(</span><span class="n">o</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">o</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSStandardize" class="doc_header"><code>class</code> <code>TSStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L96" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSStandardize</code>(<strong><code>mean</code></strong>=<em><code>None</code></em>, <strong><code>std</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Standardizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>
<p>Args:</p>

<pre><code>- mean: you can pass a precalculated mean value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch.
- std: you can pass a precalculated std value as a torch tensor which is the one that will be used, or leave as None, in which case
    it will be estimated using a batch. If both mean and std values are passed when instantiating TSStandardize, the rest of arguments won't be used.
- by_sample: if True, it will calculate mean and std for each individual sample. Otherwise based on the entire batch.
- by_var:
    * False: mean and std will be the same for all variables.
    * True: a mean and std will be be different for each variable.
    * a list of ints: (like [0,1,3]) a different mean and std will be set for each variable on the list. Variables not included in the list
    won't be standardized.
    * a list that contains a list/lists: (like[0, [1,3]]) a different mean and std will be set for each element of the list. If multiple elements are
    included in a list, the same mean and std will be set for those variable in the sublist/s. (in the example a mean and std is determined for
    variable 0, and another one for variables 1 &amp; 3 - the same one). Variables not included in the list won't be standardized.
- by_step: if False, it will standardize values for each time step.
- eps: it avoids dividing by 0
- use_single_batch: if True a single training batch will be used to calculate mean &amp; std. Else the entire training set will be used.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">X_nan</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)</span><span class="o">*</span><span class="mf">.5</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">X_nan</span><span class="p">[</span><span class="n">idxs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">:]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">after_batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">numel</span><span class="p">())</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">Nan2Value</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X_nan</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">TimeSplitter</span><span class="p">(</span><span class="n">show_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">range_of</span><span class="p">(</span><span class="n">X_nan</span><span class="p">)))</span>
<span class="n">xb</span> <span class="o">=</span> <span class="n">first</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">xb</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_min" class="doc_header"><code>Tensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_min" class="doc_header"><code>TSTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_min" class="doc_header"><code>NumpyTensor.mul_min</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_min</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Tensor.mul_max" class="doc_header"><code>Tensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Tensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="TSTensor.mul_max" class="doc_header"><code>TSTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>TSTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="NumpyTensor.mul_max" class="doc_header"><code>NumpyTensor.mul_max</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>NumpyTensor.mul_max</code>(<strong><code>x</code></strong>:<code>(Tensor, TSTensor, NumpyTensor)</code>, <strong><code>axes</code></strong>=<em><code>()</code></em>, <strong><code>keepdim</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSNormalize" class="doc_header"><code>class</code> <code>TSNormalize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L212" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSNormalize</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>range</code></strong>=<em><code>(-1, 1)</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>by_step</code></strong>=<em><code>False</code></em>, <strong><code>clip_values</code></strong>=<em><code>True</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Normalizes batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">()]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_sample</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_var</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSNormalize</span><span class="p">(</span><span class="n">by_var</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipOutliers" class="doc_header"><code>class</code> <code>TSClipOutliers</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L292" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipOutliers</code>(<strong><code>min</code></strong>=<em><code>None</code></em>, <strong><code>max</code></strong>=<em><code>None</code></em>, <strong><code>by_sample</code></strong>=<em><code>False</code></em>, <strong><code>by_var</code></strong>=<em><code>False</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip outliers batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> based on the IQR</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span><span class="o">=</span><span class="p">[</span><span class="n">TSClipOutliers</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">after_batch</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">valid</span><span class="p">))</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">xb</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSClipOutliers min=-1, max=1

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClip" class="doc_header"><code>class</code> <code>TSClip</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L335" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClip</code>(<strong><code>min</code></strong>=<em><code>-6</code></em>, <strong><code>max</code></strong>=<em><code>6</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">TSClip</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(),</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSSelfMissingness" class="doc_header"><code>class</code> <code>TSSelfMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L348" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSSelfMissingness</code>(<strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Applies missingness from samples in a batch to random samples in the batch for selected variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">()(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">TSSelfMissingness</span><span class="p">(</span><span class="n">sel_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">])(</span><span class="n">t</span><span class="o">.</span><span class="n">clone</span><span class="p">())</span>
<span class="k">assert</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span> <span class="ow">and</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span>  <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRobustScale" class="doc_header"><code>class</code> <code>TSRobustScale</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L365" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRobustScale</code>(<strong><code>median</code></strong>=<em><code>None</code></em>, <strong><code>iqr</code></strong>=<em><code>None</code></em>, <strong><code>quantile_range</code></strong>=<em><code>(25.0, 75.0)</code></em>, <strong><code>use_single_batch</code></strong>=<em><code>True</code></em>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>This Scaler removes the median and scales the data according to the quantile range (defaults to IQR: Interquartile Range)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">batch_tfms</span> <span class="o">=</span> <span class="n">TSRobustScale</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_single_batch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">TSDataLoaders</span><span class="o">.</span><span class="n">from_dsets</span><span class="p">(</span><span class="n">dsets</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="n">dsets</span><span class="o">.</span><span class="n">valid</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">num_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">dls</span><span class="o">.</span><span class="n">train</span><span class="p">))</span>
<span class="n">xb</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>TSRobustScale median=torch.Size([1, 24, 1]) iqr=torch.Size([1, 24, 1])
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>TSTensor([-2.3502116203308105], device=cpu, dtype=torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_stats_with_uncertainty" class="doc_header"><code>get_stats_with_uncertainty</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L405" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_stats_with_uncertainty</code>(<strong><code>o</code></strong>, <strong><code>sel_vars</code></strong>=<em><code>None</code></em>, <strong><code>sel_vars_zero_mean_unit_var</code></strong>=<em><code>False</code></em>, <strong><code>bs</code></strong>=<em><code>64</code></em>, <strong><code>n_trials</code></strong>=<em><code>None</code></em>, <strong><code>axis</code></strong>=<em><code>(0, 2)</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_random_stats" class="doc_header"><code>get_random_stats</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L439" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_random_stats</code>(<strong><code>E_mean</code></strong>, <strong><code>S_mean</code></strong>, <strong><code>E_std</code></strong>, <strong><code>S_std</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSGaussianStandardize" class="doc_header"><code>class</code> <code>TSGaussianStandardize</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L446" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSGaussianStandardize</code>(<strong><code>E_mean</code></strong>:<code>ndarray</code>, <strong><code>S_mean</code></strong>:<code>ndarray</code>, <strong><code>E_std</code></strong>:<code>ndarray</code>, <strong><code>S_std</code></strong>:<code>ndarray</code>, <strong><code>eps</code></strong>=<em><code>1e-08</code></em>, <strong><code>split_idx</code></strong>=<em><code>0</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Scales each batch using modeled mean and std based on UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a></p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>E_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Mean expected value</td>
</tr>
<tr>
<td><strong><code>S_mean</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the mean</td>
</tr>
<tr>
<td><strong><code>E_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Standard deviation expected value</td>
</tr>
<tr>
<td><strong><code>S_std</code></strong></td>
<td><code>ndarray</code></td>
<td></td>
<td>Uncertainty (standard deviation) of the standard deviation</td>
</tr>
<tr>
<td><strong><code>eps</code></strong></td>
<td><code>float</code></td>
<td><code>1e-08</code></td>
<td>(epsilon) small amount added to standard deviation to avoid deviding by zero</td>
</tr>
<tr>
<td><strong><code>split_idx</code></strong></td>
<td><code>int</code></td>
<td><code>0</code></td>
<td>Flag to indicate to which set is this transofrm applied. 0: training, 1:validation, None:both</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">new_mean2</span><span class="p">,</span> <span class="n">new_std2</span> <span class="o">=</span> <span class="n">get_random_stats</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_mean</span><span class="p">,</span> <span class="n">new_mean2</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">new_std</span><span class="p">,</span> <span class="n">new_std2</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_mean</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">new_std</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">new_mean</span><span class="p">,</span> <span class="n">new_std</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='15' class='' max='15' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [15/15 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([[[0.50261363],
         [0.50118879]]]),
 array([[[0.29139686],
         [0.29154251]]]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TSGaussianStandardize can be used jointly with TSStandardized in the following way:</p>
<div class="highlight"><pre><span></span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span> <span class="o">=</span> <span class="n">get_UCR_data</span><span class="p">(</span><span class="s1">&#39;LSST&#39;</span><span class="p">,</span> <span class="n">split_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">tfms</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">TSClassification</span><span class="p">()]</span>
<span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span> <span class="o">=</span> <span class="n">get_stats_with_uncertainty</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">sel_vars</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">n_trials</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">batch_tfms</span> <span class="o">=</span> <span class="p">[</span><span class="n">TSGaussianStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">E_std</span><span class="p">,</span> <span class="n">S_std</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">TSStandardize</span><span class="p">(</span><span class="n">E_mean</span><span class="p">,</span> <span class="n">S_mean</span><span class="p">,</span> <span class="n">split_idx</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">dls</span> <span class="o">=</span> <span class="n">get_ts_dls</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">splits</span><span class="o">=</span><span class="n">splits</span><span class="p">,</span> <span class="n">tfms</span><span class="o">=</span><span class="n">tfms</span><span class="p">,</span> <span class="n">batch_tfms</span><span class="o">=</span><span class="n">batch_tfms</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="p">[</span><span class="mi">32</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
<span class="n">learn</span> <span class="o">=</span> <span class="n">ts_learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> <span class="n">InceptionTimePlus</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="n">accuracy</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">ShowGraph</span><span class="p">()])</span>
<span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e-2</span><span class="p">)</span>
</pre></div>
<p>In this way the train batches are scaled based on mean and standard deviation distributions while the valid batches are scaled with a fixed mean and standard deviation values.</p>
<p>The intent is to improve out-of-distribution performance. This method is inspired by UNCERTAINTY MODELING FOR OUT-OF-DISTRIBUTION GENERALIZATION <a href="https://arxiv.org/abs/2202.03958">https://arxiv.org/abs/2202.03958</a>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDiff" class="doc_header"><code>class</code> <code>TSDiff</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L473" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDiff</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Differences batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">()(</span><span class="n">t</span><span class="p">)[</span><span class="o">...</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSDiff</span><span class="p">(</span><span class="n">lag</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLog" class="doc_header"><code>class</code> <code>TSLog</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L486" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLog</code>(<strong><code>ex</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Log transforms batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> + 1. Accepts positive and negative numbers</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> 
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSLog</span><span class="p">()</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">tfm</span><span class="o">.</span><span class="n">decodes</span><span class="p">(</span><span class="n">enc_t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCyclicalPosition" class="doc_header"><code>class</code> <code>TSCyclicalPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L507" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCyclicalPosition</code>(<strong><code>cyclical_var</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 2 additional variables (sine and cosine)</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>cyclical_var</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">seq_len</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t2</span><span class="p">[</span><span class="mi">35</span><span class="p">:],</span> <span class="n">t2</span><span class="p">[:</span><span class="mi">35</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSCyclicalPosition</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLinearPosition" class="doc_header"><code>class</code> <code>TSLinearPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L537" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLinearPosition</code>(<strong><code>linear_var</code></strong>:<code>int</code>=<em><code>None</code></em>, <strong><code>var_range</code></strong>:<code>tuple</code>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>lin_range</code></strong>:<code>tuple</code>=<em><code>(-1, 1)</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates the position along the sequence as 1 additional variable</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>linear_var</code></strong></td>
<td><code>int</code></td>
<td><code>None</code></td>
<td>Optional variable to indicate the steps withing the cycle (ie minute of the day)</td>
</tr>
<tr>
<td><strong><code>var_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>None</code></td>
<td>Optional range indicating min and max values of the linear variable</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if the cyclical var is removed</td>
</tr>
<tr>
<td><strong><code>lin_range</code></strong></td>
<td><code>tuple</code></td>
<td><code>(-1, 1)</code></td>
<td><em>No Content</em></td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">()(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">30</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">30</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t</span><span class="p">[</span><span class="mi">52</span><span class="p">:],</span> <span class="n">t</span><span class="p">[:</span><span class="mi">52</span><span class="p">]])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">.8</span>
<span class="n">t</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSLinearPosition</span><span class="p">(</span><span class="n">linear_var</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">var_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">enc_t</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cpu</span><span class="p">()</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingness" class="doc_header"><code>class</code> <code>TSMissingness</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L572" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingness</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates data missingness for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSMissingness</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">:],</span> <span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPositionGaps" class="doc_header"><code>class</code> <code>TSPositionGaps</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L588" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPositionGaps</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>forward</code></strong>=<em><code>True</code></em>, <strong><code>backward</code></strong>=<em><code>False</code></em>, <strong><code>nearest</code></strong>=<em><code>False</code></em>, <strong><code>normalize</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Concatenates gaps for selected features along the sequence as additional variables</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span><span class="o">&gt;</span><span class="mf">.5</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSPositionGaps</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">backward</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nearest</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[0.1741, 0.0474,    nan,    nan, 0.1743,    nan,    nan, 0.2140],
         [0.2721, 0.1281, 0.1888,    nan,    nan, 0.4101,    nan,    nan],
         [0.1403, 0.1568, 0.3521,    nan, 0.3960, 0.2477,    nan,    nan],
         [1.0000, 1.0000, 1.0000, 2.0000, 3.0000, 1.0000, 2.0000, 3.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 2.0000, 1.0000, 1.0000, 2.0000],
         [1.0000, 3.0000, 2.0000, 1.0000, 3.0000, 2.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 2.0000, 1.0000, 1.0000, 3.0000, 2.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 3.0000, 1.0000, 1.0000, 1.0000],
         [1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000, 1.0000]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSRollingMean" class="doc_header"><code>class</code> <code>TSRollingMean</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L606" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSRollingMean</code>(<strong><code>feature_idxs</code></strong>=<em><code>None</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong><code>window</code></strong>=<em><code>2</code></em>, <strong><code>replace</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates the rolling mean for all/ selected features alongside the sequence</p>
<p>It replaces the original values or adds additional variables (default)
If nan values are found, they will be filled forward and backward</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">c_in</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">))</span>
<span class="n">t</span><span class="p">[</span><span class="n">t</span> <span class="o">&gt;</span> <span class="mf">.6</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">feature_idxs</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSRollingMean</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enc_t</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>tensor([[[0.1547, 0.5808, 0.4349,    nan, 0.3745, 0.3945,    nan,    nan],
         [0.1764, 0.3264, 0.1503, 0.2194,    nan, 0.1253, 0.3035, 0.1467],
         [0.2437, 0.2749, 0.3622, 0.0568, 0.3508, 0.4652,    nan,    nan]]])
tensor([[[0.1547, 0.5808, 0.4349, 0.4349, 0.3745, 0.3945, 0.3945, 0.3945],
         [0.1764, 0.3264, 0.1503, 0.2194,    nan, 0.1253, 0.3035, 0.1467],
         [0.2437, 0.2749, 0.3622, 0.0568, 0.3508, 0.4652, 0.4652, 0.4652],
         [0.1547, 0.3678, 0.3901, 0.4835, 0.4148, 0.4013, 0.3879, 0.3945],
         [0.2437, 0.2593, 0.2936, 0.2313, 0.2566, 0.2909, 0.4271, 0.4652]]])
tensor([[[0.1547, 0.3678, 0.3901, 0.4835, 0.4148, 0.4013, 0.3879, 0.3945],
         [0.1764, 0.2514, 0.2177, 0.2320, 0.1964, 0.1880, 0.2161, 0.1918],
         [0.2437, 0.2593, 0.2936, 0.2313, 0.2566, 0.2909, 0.4271, 0.4652]]])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSLogReturn" class="doc_header"><code>class</code> <code>TSLogReturn</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L635" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSLogReturn</code>(<strong><code>lag</code></strong>=<em><code>1</code></em>, <strong><code>pad</code></strong>=<em><code>True</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Calculates log-return of batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>. For positive values only</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSLogReturn</span><span class="p">(</span><span class="n">pad</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSAdd" class="doc_header"><code>class</code> <code>TSAdd</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L648" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSAdd</code>(<strong><code>add</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Add a defined amount to each batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">TSAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">t</span><span class="p">),</span> <span class="n">TSTensor</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">float</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSClipByVar" class="doc_header"><code>class</code> <code>TSClipByVar</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L660" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSClipByVar</code>(<strong><code>var_min_max</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Clip  batch of type <a href="/data.core.html#TSTensor"><code>TSTensor</code></a> by variable</p>
<p>Args:
    var_min_max: list of tuples containing variable index, min value (or None) and max value (or None)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="n">tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">max_values</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">max_values2</span> <span class="o">=</span> <span class="n">TSClipByVar</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">)])(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">test_ge</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">test_le</span><span class="p">(</span><span class="n">max_values2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDropVars" class="doc_header"><code>class</code> <code>TSDropVars</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L677" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDropVars</code>(<strong><code>drop_vars</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Drops selected variable from the input</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">enc_t</span> <span class="o">=</span> <span class="n">TSDropVars</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_ne</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">enc_t</span><span class="p">)</span>
<span class="n">enc_t</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7]],

        [[12, 13, 14, 15],
         [16, 17, 18, 19]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncode" class="doc_header"><code>class</code> <code>TSOneHotEncode</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L689" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncode</code>(<strong><code>sel_var</code></strong>:<code>int</code>, <strong><code>unique_labels</code></strong>:<code>list</code>, <strong><code>add_na</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>drop_var</code></strong>:<code>bool</code>=<em><code>True</code></em>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Delegates (<code>__call__</code>,<code>decode</code>,<code>setup</code>) to (<code>encodes</code>,<code>decodes</code>,<code>setups</code>) if <code>split_idx</code> matches</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>sel_var</code></strong></td>
<td><code>int</code></td>
<td></td>
<td>Variable that is one-hot encoded</td>
</tr>
<tr>
<td><strong><code>unique_labels</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>List containing all labels (excluding nan values)</td>
</tr>
<tr>
<td><strong><code>add_na</code></strong></td>
<td><code>bool</code></td>
<td><code>False</code></td>
<td>Flag to indicate if values not included in vocab should be set as 0</td>
</tr>
<tr>
<td><strong><code>drop_var</code></strong></td>
<td><code>bool</code></td>
<td><code>True</code></td>
<td>Flag to indicate if the selected var is removed</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">t_cont</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1, 1, 1, 1, 2]],

        [[0, 1, 2, 0, 0]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:],</span> <span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[0., 0., 0., 0., 0.],
         [1., 1., 1., 1., 0.],
         [0., 0., 0., 0., 1.]],

        [[1., 0., 0., 1., 1.],
         [0., 1., 0., 0., 0.],
         [0., 0., 1., 0., 0.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">t_cont</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">)</span>
<span class="n">t_cat</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mf">10.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">12.</span><span class="p">],</span> <span class="p">[</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mf">11.</span><span class="p">]])[:,</span> <span class="kc">None</span><span class="p">]</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t_cat</span><span class="p">,</span> <span class="n">t_cont</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">t_cat</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[10.,  5., 11., nan, 12.]],

        [[ 5., 12., 10., nan, 11.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="o">~</span><span class="n">torch</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">],</span> <span class="n">t</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">][</span><span class="n">mask</span><span class="p">])</span>
<span class="n">tfm</span><span class="p">(</span><span class="n">t</span><span class="p">)[:,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>tensor([[[1., 0., 0., 0., 0.],
         [0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.]],

        [[0., 0., 1., 0., 0.],
         [0., 0., 0., 0., 1.],
         [0., 1., 0., 0., 0.]]])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">cat</span><span class="p">([</span><span class="n">t1</span><span class="p">,</span> <span class="n">t2</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">TSOneHotEncode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">add_na</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop_var</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">((</span><span class="n">t1</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">(),</span> <span class="n">output</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSPosition" class="doc_header"><code>class</code> <code>TSPosition</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L724" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSPosition</code>(<strong><code>steps</code></strong>:<code>list</code>, <strong><code>magnitude</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <code>Transform</code></p>
</blockquote>
<p>Delegates (<code>__call__</code>,<code>decode</code>,<code>setup</code>) to (<code>encodes</code>,<code>decodes</code>,<code>setups</code>) if <code>split_idx</code> matches</p>
<table>
<thead><tr>
<th></th>
<th>Type</th>
<th>Default</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>steps</code></strong></td>
<td><code>list</code></td>
<td></td>
<td>List containing the steps passed as an additional variable. Theu should be normalized.</td>
</tr>
<tr>
<td><strong><code>magnitude</code></strong></td>
<td></td>
<td><code>None</code></td>
<td>Added for compatibility. It's not used.</td>
</tr>
<tr>
<td><strong><code>kwargs</code></strong></td>
<td></td>
<td></td>
<td><em>No Content</em></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TSTensor</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>
<span class="n">TSPosition</span><span class="p">(</span><span class="n">a</span><span class="p">)(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(torch.float32, torch.float32)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="sklearn-API-transforms">sklearn API transforms<a class="anchor-link" href="#sklearn-API-transforms"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSShrinkDataFrame" class="doc_header"><code>class</code> <code>TSShrinkDataFrame</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L745" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSShrinkDataFrame</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>skip</code></strong>=<em><code>[]</code></em>, <strong><code>obj2cat</code></strong>=<em><code>True</code></em>, <strong><code>int2uint</code></strong>=<em><code>False</code></em>, <strong><code>verbose</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;floats64&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSShrinkDataFrame</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;ints64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;int8&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;floats64&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Memory usage of dataframe is 0.000274658203125 MB
Memory usage of dataframe after reduction 0.0001697540283203125 MB
Reduced by 38.19444444444444 % 
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSOneHotEncoder" class="doc_header"><code>class</code> <code>TSOneHotEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L783" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSOneHotEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>, <strong><code>dtype</code></strong>=<em><code>int64</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">unique_cols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSOneHotEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">unique_cols</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSCategoricalEncoder" class="doc_header"><code>class</code> <code>TSCategoricalEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L817" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSCategoricalEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>, <strong><code>add_na</code></strong>=<em><code>True</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Stateful transforms like TSCategoricalEncoder can easily be serialized.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alphabet</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ALPHABET</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)]</span>
<span class="n">a_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">b_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSCategoricalEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSCategoricalEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">a_unique</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">b_unique</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSDateTimeEncoder" class="doc_header"><code>class</code> <code>TSDateTimeEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L847" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSDateTimeEncoder</code>(<strong><code>datetime_columns</code></strong>=<em><code>None</code></em>, <strong><code>prefix</code></strong>=<em><code>None</code></em>, <strong><code>drop</code></strong>=<em><code>True</code></em>, <strong><code>time</code></strong>=<em><code>False</code></em>, <strong><code>attr</code></strong>=<em><code>['Year', 'Month', 'Week', 'Day', 'Dayofweek', 'Dayofyear', 'Is_month_end', 'Is_month_start', 'Is_quarter_end', 'Is_quarter_start', 'Is_year_end', 'Is_year_start']</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;D&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSDateTimeEncoder</span><span class="p">()</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSDateTimeEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_Year</th>
      <th>_Month</th>
      <th>_Week</th>
      <th>_Day</th>
      <th>_Dayofweek</th>
      <th>_Dayofyear</th>
      <th>_Is_month_end</th>
      <th>_Is_month_start</th>
      <th>_Is_quarter_end</th>
      <th>_Is_quarter_start</th>
      <th>_Is_year_end</th>
      <th>_Is_year_start</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2022</td>
      <td>5</td>
      <td>20</td>
      <td>18</td>
      <td>2</td>
      <td>138</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2022</td>
      <td>5</td>
      <td>20</td>
      <td>19</td>
      <td>3</td>
      <td>139</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TSMissingnessEncoder" class="doc_header"><code>class</code> <code>TSMissingnessEncoder</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L877" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>TSMissingnessEncoder</code>(<strong><code>columns</code></strong>=<em><code>None</code></em>) :: <code>BaseEstimator</code></p>
</blockquote>
<p>Base class for all estimators in scikit-learn.</p>
<h2 id="Notes">Notes<a class="anchor-link" href="#Notes"> </a></h2><p>All estimators should specify all the parameters that can be set
at the class level in their <code>__init__</code> as explicit keyword
arguments (no <code>*args</code> or <code>**kwargs</code>).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span> <span class="o">&gt;</span> <span class="mf">.8</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">TSMissingnessEncoder</span><span class="p">()</span>
<span class="n">tfm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfm</span><span class="p">,</span> <span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">tfm</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;data/TSMissingnessEncoder.joblib&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">tfm</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>a_missing</th>
      <th>b_missing</th>
      <th>c_missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.443261</td>
      <td>NaN</td>
      <td>0.074099</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.031361</td>
      <td>NaN</td>
      <td>0.455037</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.776355</td>
      <td>0.150981</td>
      <td>0.029370</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.176062</td>
      <td>0.418077</td>
      <td>0.535359</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.068282</td>
      <td>0.184554</td>
      <td>0.744773</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.730232</td>
      <td>NaN</td>
      <td>0.307669</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.419794</td>
      <td>NaN</td>
      <td>0.330460</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>NaN</td>
      <td>0.735551</td>
      <td>0.770740</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.491075</td>
      <td>NaN</td>
      <td>0.483116</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.123225</td>
      <td>0.393769</td>
      <td>0.021389</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="y-transforms">y transforms<a class="anchor-link" href="#y-transforms"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Preprocessor" class="doc_header"><code>class</code> <code>Preprocessor</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L899" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Preprocessor</code>(<strong><code>preprocessor</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">tsai.data.validation</span> <span class="kn">import</span> <span class="n">TimeSplitter</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">StandardScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">RobustScaler</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Normalizer</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">BoxCox</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">random_shuffle</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">YeoJohnshon</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">.5</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span>
<span class="n">splits</span> <span class="o">=</span> <span class="n">TimeSplitter</span><span class="p">()(</span><span class="n">y</span><span class="p">)</span>
<span class="n">preprocessor</span> <span class="o">=</span> <span class="n">Preprocessor</span><span class="p">(</span><span class="n">Quantile</span><span class="p">)</span>
<span class="n">preprocessor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">splits</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ori&#39;</span><span class="p">,)</span>
<span class="n">y_tfm</span> <span class="o">=</span> <span class="n">preprocessor</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;tfm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">test_close</span><span class="p">(</span><span class="n">preprocessor</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_tfm</span><span class="p">),</span> <span class="n">y</span><span class="p">,</span> <span class="mf">1e-1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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+eUnnnbaaadcd9111StWrBgxZcqUU2praydPnTr1lMbGxqGS9Oijjx557rnnTpSSpMKcOXNqpk2bNqm6uvqdCxcuPO5g293vioGIWGW75qCvCAAAAAAAHJSmpqYj1q5du6GiokKtra1lzz///IYhQ4booYceOvLGG2+sfvzxx3+R+57NmzcPe+655za2t7eX19bW1n3hC19oGTp06AHvn5C3PQZsXyvp2uToxHyFBQAAAACgZHzsYx9rq6hIPqq3traWX3rppSdt2bJlmO3o6Ohwd++ZPXt2+/Dhw2P48OGZysrKjm3btlVMmDCh40DbzNtTCSLizog4IyLOkKryFRYAAAAAgJIxcuTIzq7X8+fPH3/OOee8tWnTppcfeeSRzXv37u32M3z26oDy8nJlMpluEwg94XGFAAAAAAAMQDt37iyvrq7eK0nf+c53RvdVOyQGAAAAAAAYgObPn998yy23VNfW1k7OZDJ91o4jet+PwPYSSTMljZb0hqSbI+Ke3t9zRkgv5KuPAAAAQFE4fU1en4YGFMTahrVrklvIB7fGxsYt9fX1Owrdj/7S2Ng4ur6+vqa7cwfyVIKP571HAAAAAABgQOBWAgAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAAShiJAQAAAAAA+tn06dPfsWzZsqOyyxYsWHDc3LlzT+yu/rRp0yatWrVqhCSdc845E3fs2FGeW+eGG24Yd9NNN4052L7s93GFAAAAAAAUu4a1DQ35jLfm9DVrejs/Z86c1iVLllRedNFFO7vKli1bVnnbbbdt21/slStXbs5HH7uwYgAAAAAAgH525ZVXtj355JOj9uzZY0nauHHjEdu3bx9y3333VdbV1dVOnDjx1Ouvv35cd+8dP378O5uamiokaf78+WNramrqGhoaJm3atGnoofSlj1YMrNkleWPfxAb6zWhJOwrdCSAPGMsoBoxjFIW1DYxlFIVJhe5AMRgzZsy++vr6t5cuXTrqiiuuaF+8eHHl+eef33brrbc2jRkzZl8mk9G73/3uSatXrx4+ffr033UX4+mnnx7xgx/8oPKll156paOjQ1OmTJk8derU3Qfbl766lWBjRJzRR7GBfmH7BcYxigFjGcWAcYxiwVhGMbD9QqH7UCwuueSS1gceeOCYK664on358uWVd91115bF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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ReLabeler" class="doc_header"><code>ReLabeler</code><a href="https://github.com/timeseriesAI/tsai/tree/main/tsai/data/preprocessing.py#L941" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ReLabeler</code>(<strong><code>cm</code></strong>)</p>
</blockquote>
<p>Changes the labels in a dataset based on a dictionary (class mapping)
Args:
    cm = class mapping dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;e&#39;</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)])</span>
<span class="n">labeler</span> <span class="o">=</span> <span class="n">ReLabeler</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">))</span>
<span class="n">y_new</span> <span class="o">=</span> <span class="n">labeler</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">y_new</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">y</span><span class="p">,</span> <span class="n">y_new</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([&#39;e&#39;, &#39;b&#39;, &#39;c&#39;, &#39;c&#39;, &#39;a&#39;, &#39;e&#39;, &#39;a&#39;, &#39;d&#39;, &#39;c&#39;, &#39;b&#39;, &#39;a&#39;, &#39;e&#39;, &#39;a&#39;,
        &#39;c&#39;, &#39;d&#39;, &#39;b&#39;, &#39;e&#39;, &#39;b&#39;, &#39;e&#39;, &#39;e&#39;], dtype=&#39;&lt;U1&#39;),
 array([&#39;z&#39;, &#39;x&#39;, &#39;y&#39;, &#39;y&#39;, &#39;x&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;y&#39;, &#39;x&#39;, &#39;x&#39;, &#39;z&#39;, &#39;x&#39;,
        &#39;y&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;x&#39;, &#39;z&#39;, &#39;z&#39;], dtype=&#39;&lt;U1&#39;))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

